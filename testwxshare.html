<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title></title>
    </head>
    <body>
        <button onclick="shareTimeline()">share to friend circle</button>
        <button onclick="sendToFriend()">send to friend</button>
        <button onclick="addContact()">add contact</button>
        <button onclick="showProfile()">show profile</button>
        <button onclick="useExtBrowser()">use external browser</button>
        <div><a href="weixin://profile/gh_9b622d9e7726">gongxiangzhushou</a></div>
        <div><span id="errMsg"></span></div>
        <script type="text/javascript">
            function output(msg) {
                var msgBox = document.getElementById("errMsg");
                msgBox.textContent = msg;
            }
            function shareTimeline() {
                if (typeof WeixinJSBridge === 'undefined') {
                    output('weixinjsbridge not defined');
                    return false;
                }

                WeixinJSBridge.invoke('shareTimeline', {
                    "title": "share with friends",
                    "link": "http://wjgx.net",
                    "desc": "share with friends",
                    "img_url": "http://wjgx.net/resources/shareicon.png"
                }, function (e) {
                    output(e.err_msg);
                });
            }
            function sendToFriend() {
                if (typeof WeixinJSBridge === 'undefined') {
                    output('weixinjsbridge not defined');
                    return false;
                }

                WeixinJSBridge.invoke('sendAppMessage', {
                    "title": "send to friend",
                    "link": "http://wjgx.net",
                    "desc": "send to friend",
                    "img_url": "http://wjgx.net/resources/shareicon.png"
                }, function (e) {
                    output(e.err_msg);
                });
            }
            function addContact() {
                if (typeof WeixinJSBridge === 'undefined') {
                    output('weixinjsbridge not defined');
                    return false;
                }

                WeixinJSBridge.invoke('addContact', {
                    webtype: '1',
                    username: 'gh_9b622d9e7726'
                }, function (e) {
                    output(e.err_msg);
                });
            }
            function showProfile() {
                if (typeof WeixinJSBridge === 'undefined') {
                    output('weixinjsbridge not defined');
                    return false;
                }

                WeixinJSBridge.invoke("profile", {
                    username: 'gh_9b622d9e7726',
                    nickname: 'wjgxzs'
                }, function (e) {
                    output(e.err_msg);
                });
            }
            function useExtBrowser() {
                if (typeof WeixinJSBridge === 'undefined') {
                    output('weixinjsbridge not defined');
                    return false;
                }

                WeixinJSBridge.invoke("openUrlByExtBrowser", {
                    url: window.location.href
                }, function (e) {
                    output(e.err_msg);
                });
            }
        </script>
    </body>
</html>
